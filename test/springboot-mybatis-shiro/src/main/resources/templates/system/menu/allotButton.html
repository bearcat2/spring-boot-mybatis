<!doctype html>
<html lang="en" xmlns:th="http://www.thymeleaf.org">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport"
              content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
        <meta http-equiv="X-UA-Compatible" content="ie=edge">
        <title>分配按钮</title>

        <link rel="stylesheet" href="../../../static/libs/layui/css/layui.css" th:href="@{/libs/layui/css/layui.css}">
    </head>
    <body>
        <!--穿梭框节点-->
        <div id="allotButton" style="margin-top: 15px;margin-left: 15px;"></div>

        <input type="hidden" id="menuId" th:value="${menuId}">

        <script src="../../../static/libs/layui/layui.js" th:src="@{/libs/layui/layui.js}"></script>
        <script src="../../../static/js/global.js" th:src="@{/js/global.js}"></script>

        <script>
            layui.use(['transfer', 'jquery'], function () {
                var transfer = layui.transfer,
                    $ = layui.jquery;

                var params = {menuId: $('#menuId').val()};

                $.post("/sysMenu/allotButton", params, function (res) {
                    //渲染
                    transfer.render({
                        elem: '#allotButton',
                        data: res.data,
                        value: res.rightSelectData,
                        title: ['待选区', '已选区'],
                        showSearch: true,
                        height: 300,
                        id: 'allotButtonTransfer'
                    });
                }, 'json');

                var getData = transfer.getData('allotButtonTransfer');
                console.log(getData);

            });
        </script>
    </body>
</html>

